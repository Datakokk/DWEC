<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../../U2ManejoSintaxisJS/EjerciciosJava/EntradaNumero.js"></script>
</head>
<body>
    <script>
        
        let opcionMenu;
        let numeroInicial;
        let numeroFinal;
        
        do{
            opcionMenu = pedirNumero("MENÚ\nPulse la opción que desea  ejecutar:\n\n1.-La palabra más larga de una frase.\n 2.-Invertir una frase (no las letras).\n 3.-Sentencia en mayúsculas (primera letra de cada palabra).\n 4.-Emular el método endsWith() (¿qué pasa se si pasa una cadena vacia?¿y si se parte de una cadena vacía).\n 5.Emular el método repetir cadena (¿qué pasa si el argumento es cero o un números negativo?).");
            
        }while(!(opcionMenu >=1 && opcionMenu <=5) && !(opcionMenu === null))

        opcionMenu = parseInt(opcionMenu);

        switch(opcionMenu){

            case 1:
                let frase;
                let cadenaArray;
                let palabraLarga;

                frase = pedirFrase();
                palabraLarga = palabraMasLarga(frase);
                alert("La palabra más larga de "+frase+" es: "+palabraLarga);
                
            break;

            case 2:
                let fraseInvertida;
                let texto;
            
                texto = pedirFrase();
                fraseInvertida = invertirFrase(texto);
                alert(texto+"\n invertida es\n"+fraseInvertida);
             break;

            case 3:
                let fraseFinal;
                let cadena;
                
                cadena = pedirFrase();
                fraseFinal = primeraLetraMayuscula(cadena);
                alert(fraseFinal);
                
            break;

            case 4:
                let resultado;
                let fraseTotal = pedirFrase();
                let palabra = pedirFrase("Introduce la palabra.");
                let indice;// = pedir("Introduce un indice.");
                
                resultado = emulaEndsWith(fraseTotal,palabra,indice);
                alert(resultado);
                
            break;

            case 5:
                let textoRepeat;
                let cantidad;
                let salida;

                textoRepeat = pedirFrase("Introduce una palabra: ");
                cantidad = pedirNumero("Introduce el número de veces que se repetirá: ")
                cantidad = parseInt(cantidad);
                salida = emulaRepeat(textoRepeat, cantidad);
                alert(salida);
                
            break;

            
        }


        //Funcionnes

        //Función que solicita una frase.
        function pedirFrase(texto = "Introduce una frase: ",frase = "Escriba una frase aquí"){
            let enunciado;
                enunciado = prompt(texto, frase);
            
                return enunciado;

        }
        
        //Función que encuentra la palabra mas larga de una frase
        function palabraMasLarga(frase){
            
            let arrayFrase = frase.split(' ');
            let masLarga = "";
            for (let i = 0; i < arrayFrase.length; i++) {
                if(arrayFrase[i].length > masLarga.length){
                    masLarga = arrayFrase[i];
                }
            }

            return masLarga;
        }

        //Función que invierte una frase
        function invertirFrase(frase){
            let fraseInvertida;

            return fraseInvertida = frase.split(' ').reverse().join(" ");
        }

        //Funcion que convierte todas las primeras letras de una palabra a mayuscula.
        function primeraLetraMayuscula(frase){
            const palabras = frase.split(' '); 
            for(let i = 0; i <palabras.length; i++){
                palabras[i] =  palabras[i].split('')[0].toUpperCase() + palabras[i].slice(1);
            }
    
            return palabras.join(' ');
        }

        //Función que emula a endsWith()
        function emulaEndsWith(frase, palabraBuscada, indice = frase.length){
            let buscado;
            let inicio = palabraBuscada.length;
            
            buscado = frase.slice(indice - inicio,indice);
            return (palabraBuscada == buscado) ? true : false;

        }

        //Función que emula a repeat()
        function emulaRepeat(cadena, valor){
            let resultado = "";

            for (let i = 0; i < valor; i++) {
                    resultado += cadena;
            }
            return resultado;
         }
    </script>
</body>
</html>